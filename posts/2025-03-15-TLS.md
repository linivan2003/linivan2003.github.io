---
title: "Transport Layer Security"
layout: default
---
# **Transport Layer Security Project**

*Posted on: March 15th, 2025*
---
## Overview
This project implements a simplified TLS protocol on top of a reliable transport layer.  
It provides:
- **Identity** through certificates and signatures  
- **Privacy** via AES-256-CBC encryption  
- **Integrity** with HMAC-SHA256  

The handshake uses nonces, ephemeral keys, and a transcript HMAC to establish a shared secret before exchanging encrypted data.

---

## Build & Run
```bash
make          # build client and server
./server <port>
./client <hostname> <port>
```

## Debugging Process

A big part of this project was debugging the handshake. I used the client to dump the **ServerHello** into a file and then inspected it with `hexdump`:

```bash
./client localhost 8080 > server_hello.bin
hexdump -C server_hello.bin | head -n 400
```

### Example output from my client:
CLIENT RESULT MY SERVER
 ./client localhost 8080 > server_hello.bin
SEND CLIENT HELLO
client received:  
Type: 0x20
Length: 381
Type: 0x01
Length: 32
56 4f a0 38 7b 83 bf 41 c7 6c a4 34 c4 62 65 f7 76 cf 28 27 f3 d6 9b 74 b5 9c 2f 42 c4 b7 cb 47 
...
Type: 0x21
Length: 72
30 46 02 21 00 c6 ed f5 9f 57 1e aa 9c fb a7 e0 6f 5f 3f 34 c2 24 55 ...

### And from the hexdump of the saved file:
HEXDUMP CLIENT RESULT MY SERVER server_hello.bin: 385 bytes
00000000  20 fd 01 7d 01 20 56 4f  a0 38 7b 83 bf 41 c7 6c  | ..}. VO.8{..A.l|
00000010  a4 34 c4 62 65 f7 76 cf  28 27 f3 d6 9b 74 b5 9c  |.4.be.v.('...t..|
00000020  2f 42 c4 b7 cb 47 a0 b2  a1 0a 6c 6f 63 61 6c 68  |/B...G....localh|
00000030  6f 73 74 00 02 5b 30 59  30 13 06 07 2a 86 48 ce  |ost..[0Y0...*.H.|
...
00000170  59 17 10 42 a2 96 61 72  1d b4 96 9e 5a 2b c9 22  |Y..B..ar....Z+."|
00000180  70                                                |p|

### By comparing the raw hex with the expected structure in the spec, I caught bugs like:

Mismatched length fields in TLV encoding

Stale nonces being reused

MAC computed over the wrong fields

This workflow gave me confidence that my implementation matched the spec byte-for-byte.

## Conclusion 

#### This project gave me hands-on experience implementing a real-world security protocol from the ground up. I learned:

How the TLS handshake ensures identity, privacy, and integrity.

How to use hexdumps and low-level debugging to track down tricky networking protocol errors.

While challenging, this project deepened my understanding of applied cryptography and secure communication protocols. It showed me how theory maps to real code, and how small mistakes in encoding or crypto can break an entire system.

Big thanks to Ryan and Uma for the help on the project!

[Find the Repository Here](https://github.com/linivan2003/Transport-Layer-Security)